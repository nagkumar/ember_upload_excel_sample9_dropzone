{{outlet}}

{{x-dropzone url='/api/uploadFile' autoProcessQueue=false  addRemoveLinks=true vupdSuccess="uponUploadSuccess" vupdError="uponUploadError" submitBtn=submitBtn filesStatusChanged='filesStatusChanged' parentController=controller}}

<br/>
<button type="submit" id={{submitBtn}}>Submit all files</button>
<br/>
<br/>
<br/>

Uploaded File: {{status_message}}

<br/>
<br/>
<br/>

<div class='grid-table'>
    <div class='table-header'>
        <div id="preview" class="dz-preview">
            <div class='row dz-preview dz-file-preview'>
                <div class='dz-image'>
                    <div class='col-md-6 col-sm-4'>
                        File Name
                    </div>
                    <div class='col-sm-2'>
                        Size
                    </div>
                    <div class='col-sm-2'>
                        Progress
                    </div>
                    <div class='col-sm-2'>
                        Actions
                    </div>
                </div>
              {{#each serverFiles as |aServerFile|}}
                  <div class='dz-image'>
                      <div class='col-md-6 col-sm-4'>
                        {{aServerFile.name}}
                      </div>
                      <div class='col-sm-2'>
                        {{math aServerFile.upload.total '/' 1024}} KB
                      </div>
                      <div class='col-sm-2'>
                          <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress=""
                                                         style="width: 100%;"></span></div>
                      </div>
                      <div class='col-sm-2'>
                          <button type="button" class="btn btn-default btn-lg" {{action 'deleteFile' aServerFile }} >
                              <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                          </button>
                      </div>
                  </div>
              {{/each}}
            </div>
        </div>
    </div>
</div>

<div class="previewTemplateCustom">
    <div class='row dz-preview dz-file-preview'>
        <div class='dz-image'>
            <div class='col-md-6 col-sm-4'>
                <div class='dz-filename'><span data-dz-name></span></div>
            </div>
            <div class='col-sm-2'>
                <div class='dz-size'><span data-dz-size></span></div>
            </div>
            <div class='col-sm-2'>
                <div class='dz-progress'><span class='dz-upload' data-dz-uploadprogress></span></div>
            </div>
            <div class='col-sm-2'>
                <div class='dz-dz-remove'>
                </div>
            </div>
        </div>
    </div>
</div>

{{!--file-upload-attachments parentController=controller--}}

